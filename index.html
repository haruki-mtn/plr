<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>損益率計算ツール</title>
        <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css" />
        <link rel="stylesheet" href="style.css" />
        <script src="script.js" defer></script>
    </head>
    <body>
        <div class="card">
            <h1>損益率計算ツール</h1>

            <!-- ポジション -->
            <div class="field">
                <fieldset>
                    <legend>ポジション</legend>
                    <select id="side">
                        <option value="long">ロング</option>
                        <option value="short">ショート</option>
                    </select>
                </fieldset>
            </div>

            <!-- 分割エントリー -->
            <label class="split-toggle">
                <input id="split-checkbox" type="checkbox" />
                <span>分割エントリーを使用</span>
            </label>
            <!-- 分割エントリーパネル -->
            <div id="split-panel" aria-hidden="true">
                <div id="entry-list"></div>
                <button id="add-entry-btn" type="button">+ エントリーを追加</button>
                <div id="split-status">
                    <div id="sum-qty">合計数量: 0</div>
                    <div id="entry-avg">平均参入価格: -</div>
                </div>
            </div>

            <!-- エントリー -->
            <div class="field">
                <fieldset>
                    <legend>エントリー価格</legend>
                    <input id="entry" type="number" placeholder="例: 380.9" />
                </fieldset>
            </div>

            <!-- エグジット -->
            <div class="field">
                <fieldset>
                    <legend>エグジット価格</legend>
                    <input id="exit" type="number" placeholder="例: 416.7" />
                </fieldset>
            </div>

            <!-- 数量 -->
            <div class="field">
                <fieldset>
                    <legend>ポジション数量</legend>
                    <input id="qty" type="number" step="0.00000001" placeholder="例: 200" />
                </fieldset>
            </div>

            <!-- 手数料＆目標利回り -->
            <div class="field fee-and-target">
                <fieldset>
                    <legend>取引手数料（%）</legend>
                    <input id="fee" type="number" value="0" />
                </fieldset>
                <fieldset>
                    <legend>目標利回り（%）</legend>
                    <input id="target" type="number" value="1" />
                </fieldset>
            </div>

            <!-- 結果表示 -->
            <div id="result"></div>
        </div>
    </body>
</html>
